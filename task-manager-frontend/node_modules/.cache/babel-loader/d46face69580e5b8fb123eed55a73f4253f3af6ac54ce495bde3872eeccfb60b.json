{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter,Routes,Route,Navigate}from'react-router-dom';import axios from'axios';import{DragDropContext}from'react-beautiful-dnd';import{CssBaseline,Container,Paper,Typography,AppBar,Toolbar,Button,Box}from'@mui/material';import Login from'./components/Login';import Register from'./components/Register';import TaskBoard from'./components/TaskBoard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.baseURL='http://localhost:5000';function App(){const[user,setUser]=useState(null);useEffect(()=>{const token=localStorage.getItem('token');if(token){axios.get('/api/me',{headers:{Authorization:`Bearer ${token}`}}).then(res=>setUser(res.data)).catch(()=>localStorage.removeItem('token'));}},[]);const handleLogout=()=>{localStorage.removeItem('token');setUser(null);};return/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(Box,{sx:{minHeight:'100vh',backgroundColor:'#F5F5DC'// Cream background\n},children:[/*#__PURE__*/_jsxs(AppBar,{position:\"static\",sx:{backgroundColor:'#1976D2'},children:[\" \",/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"div\",sx:{flexGrow:1},children:\"Task Manager\"}),user&&/*#__PURE__*/_jsx(Button,{color:\"inherit\",onClick:handleLogout,children:\"Logout\"})]})]}),/*#__PURE__*/_jsx(Container,{maxWidth:\"md\",sx:{py:4},children:/*#__PURE__*/_jsx(Paper,{elevation:3,sx:{p:3,backgroundColor:'#E6F7FF'// Light blue background\n},children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:!user?/*#__PURE__*/_jsx(Login,{setUser:setUser}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:!user?/*#__PURE__*/_jsx(Register,{setUser:setUser}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:user?/*#__PURE__*/_jsx(TaskBoard,{user:user}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})})]})})})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Routes","Route","Navigate","axios","DragDropContext","CssBaseline","Container","Paper","Typography","AppBar","Toolbar","Button","Box","Login","Register","TaskBoard","jsx","_jsx","jsxs","_jsxs","defaults","baseURL","App","user","setUser","token","localStorage","getItem","get","headers","Authorization","then","res","data","catch","removeItem","handleLogout","children","sx","minHeight","backgroundColor","position","variant","component","flexGrow","color","onClick","maxWidth","py","elevation","p","path","element","to"],"sources":["C:/Users/BOOK 2/OneDrive/Desktop/projects/task-manager/task-manager-frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { DragDropContext } from 'react-beautiful-dnd';\r\nimport { CssBaseline, Container, Paper, Typography, AppBar, Toolbar, Button, Box } from '@mui/material';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport TaskBoard from './components/TaskBoard';\r\n\r\naxios.defaults.baseURL = 'http://localhost:5000';\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      axios.get('/api/me', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      }).then(res => setUser(res.data))\r\n        .catch(() => localStorage.removeItem('token'));\r\n    }\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    setUser(null);\r\n  };\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <CssBaseline />\r\n      <Box sx={{ \r\n        minHeight: '100vh', \r\n        backgroundColor: '#F5F5DC' // Cream background\r\n      }}>\r\n        <AppBar position=\"static\" sx={{ backgroundColor: '#1976D2' }}> {/* Blue header */}\r\n          <Toolbar>\r\n            <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n              Task Manager\r\n            </Typography>\r\n            {user && (\r\n              <Button color=\"inherit\" onClick={handleLogout}>Logout</Button>\r\n            )}\r\n          </Toolbar>\r\n        </AppBar>\r\n        <Container maxWidth=\"md\" sx={{ py: 4 }}>\r\n          <Paper elevation={3} sx={{ \r\n            p: 3, \r\n            backgroundColor: '#E6F7FF' // Light blue background\r\n          }}>\r\n            <Routes>\r\n              <Route path=\"/login\" element={!user ? <Login setUser={setUser} /> : <Navigate to=\"/\" />} />\r\n              <Route path=\"/register\" element={!user ? <Register setUser={setUser} /> : <Navigate to=\"/\" />} />\r\n              <Route path=\"/\" element={user ? <TaskBoard user={user} /> : <Navigate to=\"/login\" />} />\r\n            </Routes>\r\n          </Paper>\r\n        </Container>\r\n      </Box>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}